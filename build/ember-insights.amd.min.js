!function(a,b){b["true"]=a,define("ember-insights",["runtime","middleware","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"],f=function(){var a={isActivated:!1,configs:{},settings:null};return e.use(a),d(a)}();c["default"]=f}),define("handler",["exports"],function(a){"use strict";function b(a,b,c){var d=c.trackTransitionsAs;("event"===d||"both"===d)&&b.sendEvent("ember_transition",JSON.stringify({from:a.oldRouteName,to:a.routeName})),("pageview"===d||"both"===d)&&b.trackPageView(a.url)}function c(a,b,c){c=c||{};var d=["ember_action",a.actionName],e=a.actionArguments[0],f=a.actionArguments[1];null!=e&&(d[2]=e,null!=f&&(d[3]=f)),b.sendEvent.apply(b,d)}a["default"]={factory:function(a){var d=function(d,e,f){"transition"===d&&b(e,f,a),"action"===d&&c(e,f,a)};return d},transitionHandler:b,actionHandler:c}}),define("matcher",["exports"],function(a){"use strict";function b(a,b,d,e){var g=b.replace(".index",""),h="ALL_"+d.toUpperCase()+"S",i=a.insights.getWithDefault(h,!1);if(f(i,d,e,g))return h;for(var j=c(d,b,g,e),k=0,l=j.length;l>k;k++){var m=j[k][0],n=j[k][1];if(a.insights.getWithDefault(m,[]).indexOf(n)>-1)return m}return!1}function c(a,b,c,d){return"transition"===a?[["TRANSITIONS",b],["TRANSITIONS",c],["MAP."+b+".ACTIONS","TRANSITION"],["MAP."+c+".ACTIONS","TRANSITION"]]:"action"===a?[["ACTIONS",d],["MAP."+b+".ACTIONS",d],["MAP."+c+".ACTIONS",d]]:void 0}function d(a,c,d,f){for(var g=[],h=0,i=a.length;i>h;h++){var j=a[h],k=b(j,c,d,f);e(k,j,g)}return g}function e(a,b,c){a&&c.push({group:b,keyMatched:a})}function f(a,b,c,d){if(a===!0)return!0;if("object"==typeof a&&a.except){var e=a.except,f=[c];if("transition"===b&&d!==c&&f.push(d),0===Ember.EnumerableUtils.intersection(f,e).length)return!0}return!1}function g(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e].group,h=a[e].keyMatched;b.debug&&Ember.debug("TRAP: ---- MATCHED key '"+h+"' in group '"+g.name+"'"),"transition"===c&&b.updateDocumentLocationOnTransitions&&g.tracker.set("location",document.URL),g.handler(c,d,g.tracker)}}a.getMatchedGroups=d,a.processMatchedGroups=g,a.pushToResult=e,a.getSearchingPaths=c,a.checkInAll=f}),define("middleware",["matcher","exports"],function(a,b){"use strict";var c=a.getMatchedGroups,d=a.processMatchedGroups;b["default"]={use:function(a){function b(b,e){var f,g;switch(b){case"transition":f=b,g=e.routeName;break;case"action":f=e.actionName,g=e.actionName}var h=c(a.settings.mappings,e.routeName,b,g);if(a.settings.debug){var i="TRAP: '"+f+"' action",j="action"===b?" on '":" to '";e.oldRouteName&&(i+=" from '"+e.oldRouteName+"' route ("+e.oldUrl+")"),e.routeName&&(i+=j+e.routeName+"' route ("+e.url+")"),i+=h.length?". Matches:":". No matches!",Ember.debug(i)}d(h,a.settings,b,e)}function e(c){if(!a.isActivated)return void this._super.apply(this,arguments);var d=this.container.lookup("controller:application"),e=d.get("currentRouteName");b("action",{actionName:c,actionArguments:[].slice.call(arguments,1),route:this.container.lookup("route:"+e),routeName:this.container.lookup("controller:application").get("currentRouteName"),url:this.container.lookup("router:main").get("url")}),this._super.apply(this,arguments)}function f(){if(!a.isActivated)return void this._super.apply(this,arguments);var c=this.container.lookup("controller:application"),d=c.get("currentRouteName"),e=d?this.get("url"):"";this._super.apply(this,arguments);var f=c.get("currentRouteName");Ember.run.scheduleOnce("routerTransitions",this,function(){var a=this.get("url");b("transition",{route:this.container.lookup("route:"+f),routeName:f,oldRouteName:d,url:a,oldUrl:e})})}Ember.ActionHandler.reopen({send:e}),Ember.Router.reopen({didTransition:f})}}}),define("optparse",["trackers/google","handler","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"];c["default"]={trackerOpts:function(a){return this.mergeTrackerOpts(a,a)},mergeTrackerOpts:function(a,b){var c,e;return a.trackerFun=a.trackerFun||b.trackerFun||"ga",e=typeof a.trackerFun,c="function"===e||"string"===e,Ember.assert("'trackerFun' should be either a function or string option",c),a.trackingNamespace=a.trackingNamespace||b.trackingNamespace||"",e=typeof a.trackingNamespace,c="string"===e,Ember.assert("'trackingNamespace' should be a string option",c),a.trackerFactory=a.trackerFactory||b.trackerFactory||d.factory,c="function"==typeof a.trackerFactory,Ember.assert("'trackerFactory' should be a function",c),a.tracker=a.trackerFactory(a),c="object"==typeof a.tracker,Ember.assert("Can't build tracker",c),a.trackTransitionsAs=a.trackTransitionsAs||b.trackTransitionsAs||"pageview",a},basicOpts:function(a){return"undefined"==typeof a.updateDocumentLocationOnTransitions&&(a.updateDocumentLocationOnTransitions=!0),a},handlerOpts:function(a){var b;return a.handler=a.handler||e.factory(a),b="function"==typeof a.handler,Ember.assert("'handler' should be a function",b),a}}}),define("runtime",["optparse","trackers","exports"],function(a,b,c){"use strict";var d=a["default"],e=b.ConsoleTracker,f=b.GoogleTracker;c["default"]=function(a){var b,c={configure:function(c,e){return c=c||"default",e=e||{},b=e,d.basicOpts(e),d.trackerOpts(e),e.tracker._setFields&&e.tracker._setFields(),e.mappings=[],a.configs[c]=e,this},track:function(a){return Ember.assert("Can't find `insights` property inside",a.insights),delete a.fields,a.insights=Ember.Object.create(a.insights),d.mergeTrackerOpts(a,b),d.handlerOpts(a),b.mappings.push(a),this},start:function(b){return a.settings=a.configs[b],Ember.assert("can't find settings for '"+b+"' environment",a.settings),a.isActivated=!0,a.settings.tracker},stop:function(){a.isActivated=!1},ConsoleTracker:e,GoogleTracker:f};return c}}),define("trackers",["trackers/console","trackers/google","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"];c.ConsoleTracker=d,c.GoogleTracker=e}),define("trackers/console",["exports"],function(a){"use strict";function b(){return function(){if(console.log("Ember-Insights event"),console.log("	Action: ",arguments[0]),console.log("	Action argument: ",arguments[1]),arguments.length>2){console.log("	Additional arguments: ");for(var a=2;a<arguments.length;a++)console.log("		",arguments[a])}}}function c(a){return function(b){return(a?a+".":"")+b}}a["default"]={factory:function(a){var d=b(a.trackerFun),e=c(a.trackingNamespace),f={isTracker:function(){return d&&"function"==typeof d},getTracker:function(){return this.isTracker()||Ember.debug("Can't find in `window` a `"+a.trackerFun+"` function definition"),d},set:function(a,b){d(e("set"),a,b)},send:function(a){a=a||{},d(e("send"),a)},sendEvent:function(a,b,c,f){var g={hitType:"event",eventCategory:a,eventAction:b};null!=c&&(g.eventLabel=c,null!=f&&(g.eventValue=f)),d(e("send"),g)},trackPageView:function(a,b){if(b=b||{},!a){var c=window.location;a=c.hash?c.hash.substring(1):c.pathname+c.search}d(e("send"),"pageview",a,b)}};return f},trackerFun:b,trackingNamespace:c}}),define("trackers/google",["exports"],function(a){"use strict";function b(a,b){return b=b||window,"string"==typeof a&&(a=b[a]),a}function c(a){return function(b){return(a?a+".":"")+b}}function d(a,b,c){for(var d in c)a(b("set"),d,c[d])}a["default"]={factory:function(a){var e=b(a.trackerFun),f=c(a.trackingNamespace),g={_setFields:function(){d(e,f,a.fields)},isTracker:function(){return e&&"function"==typeof e},getTracker:function(){return this.isTracker()||Ember.debug("Can't find in `window` a `"+a.trackerFun+"` function definition"),e},set:function(a,b){e(f("set"),a,b)},send:function(a){a=a||{},e(f("send"),a)},sendEvent:function(a,b,c,d){var g={hitType:"event",eventCategory:a,eventAction:b};null!=c&&(g.eventLabel=c,null!=d&&(g.eventValue=d)),e(f("send"),g)},trackPageView:function(a,b){if(b=b||{},!a){var c=window.location;a=c.hash?c.hash.substring(1):c.pathname+c.search}e(f("send"),"pageview",a,b)}};return g},trackerFun:b,trackingNamespace:c,setFields:d}})}({},function(){return this}());